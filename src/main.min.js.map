{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"path\"","webpack:///external \"fs\"","webpack:///external \"redux\"","webpack:///external \"react-dnd\"","webpack:///external \"react-dnd-html5-backend\"","webpack:///external \"react-dom\"","webpack:///external \"url\"","webpack:///external \"chokidar\"","webpack:///./redux/reduce/index.ts","webpack:///./redux/store/store.ts","webpack:///./redux/actions/mapStateProps.ts","webpack:///./redux/actions/app.ts","webpack:///./redux/actions/mapDispatchProps.ts","webpack:///./fileSystem/init.js","webpack:///./components/rootBox.tsx","webpack:///./components/dropForm.tsx","webpack:///./parts/radioBox.tsx","webpack:///./parts/checkBox.tsx","webpack:///./components/watchingCover.tsx","webpack:///./components/documentForm.tsx","webpack:///./fileSystem/basic.ts","webpack:///./parts/button.tsx","webpack:///./fileSystem/connectHostScript.ts","webpack:///./fileSystem/watchSystem.ts","webpack:///./components/buttonRange.tsx","webpack:///./components/header.tsx","webpack:///./components/footer.tsx","webpack:///./pages/watchForm.tsx","webpack:///./parts/select.tsx","webpack:///./pages/options.tsx","webpack:///./pages/mainForm.tsx","webpack:///./main.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","initialWatched","document","path","placed","ext","ai","pdf","export","extFolder","initOptions","PDFver","close","rootReducer","WatchedTypes","state","action","type","watched","stat","index","obj","ModeSwitch","Options","options","prop","watchFlag","mapStateToProps","SetWatched","SwitchMode","SetOptions","SetWatch","mapDispatchProps","dispatch","set_Watched","set_WatchProp","switch_Mode","set_Options","set_Value","set_WatchFlag","watch","csInterface","CSInterface","extensionRoot","getExtensionID","getSystemPath","SystemPath","EXTENSION","dir_home","process","env","platform","dir_desktop","join","jsxParts","polyFillFolder","loadJsx","async","jsxFolder","Promise","resolve","reject","readdir","err","files","catch","e","filter","f","extname","forEach","jsx","evalScript","openFolderDialog","cep","fs","showOpenDialog","data","openImageDialog","alertFromJSX","msg","root","point","position","left","x","top","y","className","style","RootForm","props","onDrop","accept","FILE","drop","item","monitor","collect","isOver","canDrop","setPoint","isActive","ref","onClick","func","arg","onMouseOver","rect","currentTarget","getBoundingClientRect","clientX","clientY","handleMousePosition","handleFileDrop","dropped","getItem","setDrop","backend","DocumentRadio","checked","onChange","StdCheckBox","DocmentCheckBox","setData","setDisable","handleCheckBox","target","handleRadioBox","setPath","decodeURI","parsed","validateExt","receiveDropped","file","isDirectory","classType","StdButton","disabled","WatchButtons","callJsx","callHostScript","JSON","stringify","watchOption","this","watcher","launchToWatch","persistent","ignoreInitial","depth","on","stats","stopWatch","WatchSwitch","setWatchSwitch","shiftMode","length","watchObjects","watches","option","map","w","initWatch","all","types","setTypes","docForms","StdSelectBox","selectList","op","setOptions","handleSelctBox","init","getMode","store","getElementById"],"mappings":"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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"path\");","module.exports = require(\"fs\");","module.exports = require(\"redux\");","module.exports = require(\"react-dnd\");","module.exports = require(\"react-dnd-html5-backend\");","module.exports = require(\"react-dom\");","module.exports = require(\"url\");","module.exports = require(\"chokidar\");","import {Watched,Mode,OptionType} from \"./type\";\nexport type propsType = {\n    WatchedTypes:Watched,\n    ModeSwitch:Mode,\n    Options:OptionType\n}\n\nconst initialWatched:Watched[] = [\n    {\n        document:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n        placed:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n        ext:{\n            ai:true,\n            pdf:false\n        },\n        export:false,\n        extFolder:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n    },\n    {\n        document:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n        placed:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n        ext:{\n            ai:true,\n            pdf:false\n        },\n        export:false,\n        extFolder:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n    },\n    {\n        document:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n        placed:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n        ext:{\n            ai:true,\n            pdf:false,\n        },\n        export:false,\n        extFolder:{\n            path:\"nothing\",\n            name:\"nothing\"\n        },\n    }\n];\n\nexport const WatchedTypes = (state=initialWatched,action) =>{\n    switch(action.type){\n        case\"SETWATCHED\":\n            const watched = {...action.watched};\n            return watched;\n\n        case\"SETWATCHPROP\":\n            const stat = [...state];\n            stat[action.index] = action.obj;\n            return stat;\n\n        default:\n            return state;\n    }\n\n}\n\nexport const ModeSwitch = (state:Mode=\"watch\",action) =>{\n    switch(action.type){\n        case\"SWITCHMODE\":\n            return action.mode;\n\n        default:\n            return state;\n    \n    }\n}\n\n\nconst initOptions:OptionType = {\n    PDFver:\"ACROBAT7\",\n    close:true\n}\n\nexport const Options = (state=initOptions,action) =>{\n    switch(action.type){\n        case\"SETOPTIONS\":\n            return action.options;\n\n        case\"SETPROP\":\n            const stat = {...state};\n            stat[action.prop] = action.value;\n            return stat;\n\n        default:\n            return state;\n    }\n}\n\nexport const watchFlag = (state=false,action)=>{\n    switch(action.type){\n        case\"SETWATCHFLAG\":\n            return action.watchFlag;\n\n        default:\n            return state;\n    }\n}","import {combineReducers,createStore} from \"redux\";\nimport {WatchedTypes,ModeSwitch,Options,watchFlag} from \"../reduce/index\";\n\nconst rootReducer = combineReducers({\n    WatchedTypes,\n    ModeSwitch,\n    Options,\n    watchFlag\n})\n\nconst configStore = () =>{\n    const store = createStore(rootReducer);\n    return store;\n}\n\nexport default configStore;","export const mapStateToProps = state =>{\n    return {state:state};\n}","import {Watched,Mode,OptionType,PDFver} from \"../reduce/type\";\n\nexport const SetWatched ={\n    SetWatchedItems:(watched:Watched[])=>{\n        return{watched:watched,type:\"SETWATCHED\"};\n    },\n    SetWatchProp:(obj:Watched,index:number)=>{\n        return{obj:obj,index:index,type:\"SETWATCHPROP\"};\n    }\n}\n\nexport const SwitchMode ={\n    SetMode:(mode:Mode)=>{\n        return{mode:mode,type:\"SWITCHMODE\"};\n    }\n}\n\nexport const SetOptions = {\n    SetOptions:(options:OptionType)=>{\n        return{options:options,type:\"SETOPTIONS\"}\n    },\n    SetValue:(prop:string,value:PDFver|boolean)=>{\n        return{prop:prop,value:value,type:\"SETPROP\"}\n    }\n}\n\nexport const SetWatch ={\n    SetWatch:(watchFlag:boolean)=>{\n        return{watchFlag:watchFlag,type:\"SETWATCHFLAG\"}\n    }\n}","import {SetWatched,SwitchMode,SetOptions,SetWatch} from \"./app\";\nimport {Watched,Mode,OptionType,PDFver} from \"../reduce/type\";\n\nexport const mapDispatchProps = dispatch =>{\n    return{\n        set_Watched:(watched:Watched[])=>dispatch(SetWatched.SetWatchedItems(watched)),\n        set_WatchProp:(obj:Watched,index:number)=>dispatch(SetWatched.SetWatchProp(obj,index)),\n        switch_Mode:(mode:Mode)=>dispatch(SwitchMode.SetMode(mode)),\n        set_Options:(options:OptionType)=>dispatch(SetOptions.SetOptions(options)),\n        set_Value:(prop:string,value:PDFver|boolean)=>dispatch(SetOptions.SetValue(prop,value)),\n        set_WatchFlag:(watch:boolean)=>dispatch(SetWatch.SetWatch(watch))\n    };\n}","import fs from \"fs\";\nimport path from \"path\";\nconst csInterface = new CSInterface();\n//const appID = csInterface.getApplicationID();\nconst extensionId = csInterface.getExtensionID();\nconst extFolder = csInterface.getSystemPath(SystemPath.EXTENSION);\nconst extensionRoot = csInterface.getSystemPath(SystemPath.EXTENSION) +`/jsx/`;\n\nconst dir_home = process.env[process.platform == `win32` ? `USERPROFILE` : `HOME`];\nconst dir_desktop = path.join(dir_home, `Desktop`);//デスクトップパス\nconst jsxParts = `${extensionRoot}/jsxParts`;\nconst polyFillFolder = `${extensionRoot}/polyFill`;\n\nconst readDirFiles = (path) =>{\n    return new Promise((resolve,reject)=>{\n        fs.readdir(path,(err,files)=>{\n            if(err)reject(err);\n            resolve(files);\n        })\n    });\n}\n\nconst loadJsx = async(jsxFolder) =>{\n    const parts = await readDirFiles(jsxFolder).catch(e=>console.log(e));\n    const jsxes = parts.filter(f => path.extname(f) === \".jsx\");\n    jsxes.forEach(jsx =>  csInterface.evalScript(`$.evalFile(\"${jsxFolder}/${jsx}\")`));\n}\n\nconst init = async() =>{\n    csInterface.evalScript(`$.evalFile(\"${extensionRoot}json2.js\")`);//json2読み込み\n    await loadJsx(jsxParts);\n    await loadJsx(polyFillFolder);\n}\n\nconst reload = () =>{\n    csInterface.addEventListener(\"com.adobe.csxs.events.WindowVisibilityChanged\",()=>{location.reload(true)},false);\n}\n\nconst openFolderDialog = () =>{\n    const f = cep.fs.showOpenDialog(false,true,\"open\",dir_desktop);\n    return f.data[0];\n}\n\nconst openImageDialog = () =>{\n    const f = cep.fs.showOpenDialog(false,false,\"open\",dir_desktop);\n    return f.data[0];\n}\n\nconst callPathDialog = callType =>{/*callType folder or image */\n    return callType === \"folder\" ? openFolderDialog : openImageDialog;\n}\n\nconst alertFromJSX = msg => csInterface.evalScript(`$.evalFile(alert(\"${msg}\"))`);\n\nexport {csInterface,extensionId,extFolder,extensionRoot,init,reload,callPathDialog,alertFromJSX};","import * as React from \"react\";\n\nconst RootBox = ({root,point}:{root:string,point:{x:number,y:number}}) =>{\n    const position = {\n        left:point.x+\"px\",\n        top:point.y+\"px\"\n    }\n    return(\n        <div className=\"rootBox\" style={position}>\n            <span className=\"rootBox__root\">\n                {root}\n            </span>\n        </div>\n    )\n}\n\nexport default RootBox;","import * as React from \"react\";\nimport RootBox from \"./rootBox\";\nimport {useCallback,useRef,useState} from \"react\";\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\nimport {FilePath} from \"../redux/reduce/type\";\nimport {DndProvider,DropTargetMonitor,useDrop} from \"react-dnd\";\nimport {HTML5Backend, NativeTypes} from \"react-dnd-html5-backend\";\n\n\ntype RootType = {\n    name:string,\n    path:FilePath,\n    classType:string\n}\n\nconst RootForm = (props) =>{\n    const { onDrop } = props;\n    const [{canDrop,isOver},drop] = useDrop({\n        accept:[NativeTypes.FILE],\n        drop(item,monitor){\n            console.log(item);\n            console.log(monitor);\n            if(onDrop){\n                onDrop(props,monitor);\n            }\n        },\n        collect:(monitor)=>({\n            isOver:monitor.isOver(),\n            canDrop:monitor.canDrop()\n        })\n    });\n    type position = {x:number,y:number};\n    const [point,setPoint]:[position,(v:position)=>void] = useState({x:0,y:0});\n    const handleMousePosition = (e)=>{\n        const rect = e.currentTarget.getBoundingClientRect();\n        setPoint({x:e.clientX+15-rect.left,y:e.clientY-15-rect.top});\n    };\n    const isActive = canDrop && isOver;\n    const root:RootType = props.root;\n    return(\n        <button ref={drop} className={\"dropForm \" + (isActive ? \"dropOver\" : \"\")} onClick={(e)=>props.func(e,props.arg)} onMouseOver={(e)=>handleMousePosition(e)}>\n            <RootBox root={root.path.path} point={point}/>\n            <p>{root.name}</p>\n            <span className=\"dropForm__rootName\">{root.path.name}</span>\n        </button>\n    )\n}\n\n\nconst DropConnection = (props) =>{\n    const handleFileDrop = useCallback((item,monitor:DropTargetMonitor)=>{\n        console.log(item);\n        console.log(monitor);\n        if(monitor){\n            const dropped = monitor.getItem().files;\n            console.log(dropped);\n            props.setDrop(dropped[0],props.arg);\n        }\n    },[props]);\n    return(\n        <DndProvider backend={HTML5Backend}>\n            <RootForm func={props.func} arg={props.arg} root={props.root} onDrop={handleFileDrop}/>\n        </DndProvider>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(DropConnection);\n","import * as React from \"react\";\nimport {CheckBox} from \"./type\";\n\nexport const StdRadioBox = ({name,checked,func,arg}:CheckBox<React.ChangeEvent>) =>(\n    <label className=\"radiobox-std\">\n        <input type=\"radio\" className=\"radiobox-std__input\" checked={checked} name={name} onChange={(e)=>func(e,arg)}/>\n        <div className=\"radiobox-std__display\"></div>\n    </label>\n)\n\nexport const DocumentRadio = ({name,checked,func,arg}:CheckBox<React.ChangeEvent>) =>(\n    <label className=\"radiobox-doc\">\n        <input type=\"radio\" className=\"radiobox-doc__input\" checked={checked} onChange={(e)=>func(e,arg)}/>\n        <div className=\"radiobox-doc__display\">\n            <div className=\"radiobox-doc__ball\"></div>\n        </div>\n        <span className=\"radiobox-doc__name\">{name}</span>\n    </label>\n)","import * as React from \"react\";\nimport {CheckBox} from \"./type\";\n\nexport const StdCheckBox = ({checked,name,func,arg}:CheckBox<React.ChangeEvent>) =>(\n    <div className=\"checkboxRange\">\n        <span>{name}</span>\n        <label className=\"checkbox-std\">\n            <input type=\"checkbox\" className=\"checkbox-std__input\" name={name} checked={checked} onChange={(e)=>func(e,arg)}/>\n            <div className=\"checkbox-std__display\"></div>\n            <div className=\"checkbox-std__cover\"></div>\n            <span className=\"checkbox-std__text\">{checked ? \"ON\" : \"OFF\"}</span>\n        </label>\n    </div>\n);\n\nexport const DocmentCheckBox = ({checked,name,func,arg}:CheckBox<React.ChangeEvent>) =>(\n    <label className=\"checkbox-doc\">\n        <input type=\"checkbox\" className=\"checkbox-doc__input\" name={name} checked={checked} onChange={(e)=>func(e,arg)}/>\n        <div className=\"checkbox-doc__display\">\n            <div className=\"checkbox-doc__square\"></div>\n        </div>\n        <span className=\"checkbox-doc__name\">{name}</span>\n    </label>\n);","import * as React from \"react\";\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\n\nconst WatchingPlate = (props) =>{\n    console.log(props);\n    return(\n        <div className={\"watching\" + (props.state.watchFlag ? \"\" : \" none\")}>\n            <span className=\"watching__title\">watching</span>\n            <div className=\"watching__circle\">\n                <div className=\"watching__eye\">\n                    <div className=\"watching__blackEye\"></div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(WatchingPlate);","import * as React from \"react\";\nimport * as path from \"path\";\nimport * as fs from \"fs\";\nimport * as url from \"url\"; \nimport {useState,useMemo,useCallback} from \"react\";\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\nimport {alertFromJSX} from \"../fileSystem/init\";\n\nimport DropConnection from \"./dropForm\";\nimport {callPathDialog} from \"../fileSystem/init\";\nimport {Watched} from \"../redux/reduce/type\";\nimport {DocumentRadio} from \"../parts/radioBox\";\nimport {DocmentCheckBox} from \"../parts/checkBox\";\nimport {getFileName} from \"../fileSystem/basic\";\n\nimport WatchingPlate from \"./watchingCover\";\n\n\nconst DocumentForm = (props) =>{\n    const [data,setData]:[Watched,(v:Watched)=>void] = useState(props.data);\n    const [disable,setDisable] = useState(false);\n    console.log(data);\n    useMemo(()=>setData(props.data),[props]);\n    const handleCheckBox = useCallback((e,arg)=>{\n        const obj = {...data};\n        obj.export = e.target.checked;\n        props.set_WatchProp(obj,arg.index);\n    },[data]);\n    const handleRadioBox = useCallback((e,arg)=>{\n        const obj = {...data};\n        obj.ext[arg.prop === \"ai\" ? \"pdf\" : \"ai\"] = false;\n        obj.ext[arg.prop] = e.target.checked;\n        props.set_WatchProp(obj,arg.index);\n    },[data]);\n    const setPath = useCallback((e:React.MouseEvent,arg:{index:number,prop:string,type:string})=>{\n        setDisable(true);\n        const obj = {...data};\n        const f = decodeURI(callPathDialog(arg.type)());\n        if(f===\"\"||f===null||f===undefined||f===\"undefined\")return false;\n        console.log(f);\n        const parsed = url.parse(f);\n        if(!validateExt(parsed.path,arg.type)){\n            alertFromJSX(\"please choice file properly\");\n            return false;\n        }\n        obj[arg.prop].path = parsed.path;\n        obj[arg.prop].name = getFileName(parsed.path);\n        props.set_WatchProp(obj,arg.index);\n    },[data]);\n\n    const receiveDropped = (file,arg:{index:number,prop:string,type:string}) =>{\n        if(!validateExt(file.path,arg.type)){\n            alertFromJSX(\"please choice file properly\");\n            return false;\n        }\n        const obj = {...data};\n        obj[arg.prop].path = file.path;\n        obj[arg.prop].name = file.name;\n        props.set_WatchProp(obj,arg.index);\n    }\n\n    const validateExt = (root:string,type:string) =>{\n        console.log(path.extname(root));\n        if(type===\"document\") return path.extname(root)===\".ai\"||path.extname(root)===\".pdf\";\n        if(type===\"folder\"){\n            try{\n                const stat = fs.statSync(root);\n                return stat.isDirectory();\n            }catch(e){\n                return false;\n            }\n        }\n        return true;\n    }\n    return(\n            <div className=\"rootForm\">\n                <WatchingPlate />\n                <header className=\"rootForm__header\">\n                    <h3 className=\"head-small\">document {props.index+1}</h3>\n                </header>\n                <div className=\"documentForm\">\n                    <DropConnection setDrop={receiveDropped} func={setPath} arg={{index:props.index,prop:\"document\",type:\"document\"}}root={{classType:\"documentForm__doc\",name:\"document\",path:data.document}}/>\n                    <DropConnection setDrop={receiveDropped} func={setPath} arg={{index:props.index,prop:\"placed\",type:\"image\"}}root={{classType:\"documentForm__placed\",name:\"placed item\",path:data.placed}}/>\n                    <ul>\n                        <li><DocumentRadio func={handleRadioBox} arg={{index:props.index,prop:\"ai\"}} checked={data.ext.ai} name=\"ai\"/></li>\n                        <li><DocumentRadio func={handleRadioBox} arg={{index:props.index,prop:\"pdf\"}} checked={data.ext.pdf} name=\"pdf\"/></li>\n                    </ul>\n                </div>\n                <div className=\"exportForm\">\n                    <DocmentCheckBox func={handleCheckBox} name=\"export\" checked={data.export} arg={{index:props.index,type:\"image\"}}/>\n                    <DropConnection setDrop={receiveDropped} func={setPath} arg={{index:props.index,prop:\"extFolder\",type:\"folder\"}} root={{classType:\"exportForm__path\",name:\"export path\",path:data.extFolder}}/>\n                </div>\n            </div>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(DocumentForm);","import * as path from \"path\";\nimport * as fs from \"fs\";\n\nexport const getFileName = (root:string) =>{\n    const f = path.basename(root);\n    return f;\n}\n\nexport const getFolderName = (root:string) =>{\n    return path.dirname(root);\n}","import * as React from \"react\";\nimport {Button} from \"./type\";\n\nexport const StdButton = ({name,func,arg,disabled}:Button) =>(\n    <button className=\"button-std\" onClick={()=>func(arg)} disabled={disabled}>{name}</button>\n)\n\nexport const WatchButtons = ({name,func,arg,disabled=false}:Button) =>(\n    <button className=\"button-watch\" onClick={()=>func(arg)} disabled={disabled}>{name}</button>\n)","import {csInterface,extensionRoot} from \"./init\";\n\nexport interface HostObj{\n    jsx:string,\n    arg?:object,\n    callJsx:()=>Promise<string|boolean>,\n    callHostScript:(obj:object)=>Promise<string|boolean>\n}\n\ntype Return = string|boolean;\n\nexport class SendHostScript implements HostObj{\n    constructor(public jsx:string = \"hostScript\",public arg?:object){\n\n    }\n\n    callJsx():Promise<string|boolean>{\n        return new Promise((resolve,reject)=>{\n            csInterface.evalScript(`$.evalFile(\"${extensionRoot}${this.jsx}\")`,(o:Return)=>{\n                if(!o||o===\"false\")reject(false);\n                resolve(o);\n            });\n        })\n    }\n\n    callHostScript(obj):Promise<string|boolean>{\n        return new Promise((resolve,reject)=>{\n            csInterface.evalScript(`${this.jsx}(${JSON.stringify(obj)})`,(o:Return)=>{\n                if(!o||o === \"false\"){\n                    reject(false);\n                }                \n                resolve(o);\n            });\n        });\n    }\n}   ","import * as chokidar from \"chokidar\";\nimport * as fs from \"fs\";\nimport * as path from \"path\";\nimport {extensionRoot} from \"../fileSystem/init\";\nimport {SendHostScript,HostObj} from \"./connectHostScript\";\nimport {Watched,OptionType} from \"../redux/reduce/type\";\nimport {alertFromJSX} from \"../fileSystem/init\";\n\nexport interface WatchDataType {\n    watchOption:{watch:Watched,option:OptionType},\n    action:HostObj,\n    launchToWatch:()=>void,\n    stopWatch:()=>void\n}\n\n\nclass WatchData implements WatchDataType{\n    private watcher:chokidar.FSWatcher|null;\n    constructor(\n        public watchOption:{watch:Watched,option:OptionType},\n        public action:HostObj\n    ){\n        this.watcher = null;\n        this.watchOption = watchOption;\n        this.action = action;\n    }\n\n    launchToWatch(){\n        this.watcher = chokidar.watch(this.watchOption.watch.placed.path,{\n            persistent:true,\n            ignoreInitial:true,//開始当初のフォルダーは反応させない\n            depth:0//0にしないと再帰的にファイルをチェックするっぽい\n        });\n\n        this.watcher\n        .on(\"ready\",()=>console.log(\"ready\"))\n        .on(\"change\",async(path,stats)=>{\n            console.log(stats);\n            console.log(path);\n            //fs.writeFileSync(`${extensionRoot}data.json`,JSON.stringify(obj));\n            const flag = await this.action.callHostScript(this.watchOption);\n        })\n        .on(\"error\",err=>alertFromJSX(err));\n        /*\n        .on(\"unlink\",path=>{\n            console.log(path);\n            alertFromJSX(\"watched file renamed or removed!\");\n        });\n        */\n    }\n\n    async stopWatch():Promise<void>{\n        await this.watcher.close();\n        console.log(\"stop\");\n    }\n\n}\n\nexport const initWatch = (watches:Watched[],option:OptionType) =>{\n    console.log(watches);\n    const watchObjects = watches.map(watch=>{\n        const action = new SendHostScript();\n        return new WatchData({watch:watch,option:option},action);\n    });\n    watchObjects.forEach(w=>w.launchToWatch());\n    return watchObjects;\n}","import * as React from \"react\";\nimport {useCallback,useState,useMemo} from \"react\";\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\nimport {WatchButtons,StdButton} from \"../parts/button\";\nimport {initWatch,WatchDataType} from \"../fileSystem/watchSystem\";\nimport {alertFromJSX} from \"../fileSystem/init\";\n\nconst MainButtonRange = (props) =>{\n    console.log(props);\n    const [WatchSwitch,setWatchSwitch]:[WatchDataType[],(v:WatchDataType[])=>void] = useState([]);\n    const watchStart = () =>{\n        const watchObjects = initWatch(props.state.WatchedTypes,props.state.Options);\n        setWatchSwitch(watchObjects);\n        props.set_WatchFlag(true);\n        alertFromJSX(\"watch start\");\n    };\n    const watchStop = async() =>{\n        await Promise.all(WatchSwitch.map(async(w)=>{\n            await w.stopWatch();\n        }));\n        setWatchSwitch([]);\n        props.set_WatchFlag(false);\n        alertFromJSX(\"watchStop\");\n    };\n    const shiftMode = useCallback(()=>props.switch_Mode(\"options\"),[props.state.ModeSwitch]);\n    const watchFlag = WatchSwitch.length < 1;\n    return(\n        <div className=\"ButtonRange\">\n            <ul>\n                <li><WatchButtons name={watchFlag  ? \"watch start\" : \"watch stop\"} func={watchFlag  ? watchStart : watchStop}/></li>\n                <li><StdButton name=\"option\" func={shiftMode} disabled={!watchFlag}/></li>\n            </ul>\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(MainButtonRange);","import * as React from \"react\";\n\nconst Header = () =>{\n    return(\n        <header className=\"header\">\n            <h1 className=\"head-top\">watch Placeditem</h1>\n        </header>\n    )\n}\n\nexport default Header;","import * as React from \"react\";\n\nconst Footer = () =>{\n    return(\n        <footer className=\"footer\">\n            <p>developed by Kawano Shuji</p>\n            <p>using chokidar and fsevents</p>\n            <p>https://github.com/paulmillr/chokidar/blob/master/LICENSE</p>\n            <p>https://github.com/fsevents/fsevents#license</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import * as React from \"react\";\nimport {useState,useMemo} from \"react\";\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\nimport {Watched} from \"../redux/reduce/type\";\nimport DocumentForm from \"../components/documentForm\";\nimport MainButtonRange from \"../components/buttonRange\";\nimport Header from \"../components/header\";\nimport Footer from \"../components/footer\";\nconst WatchForm = (props) =>{\n    const [types,setTypes]:[Watched[],(v:Watched[])=>void] = useState(props.state.WatchedTypes);\n    useMemo(()=>setTypes(props.state.WatchedTypes),[props]);\n    const docForms = types.map((obj,index)=><li key={index}><DocumentForm data={obj} index={index}/></li>); \n    return(\n        <div className=\"watchForm\">\n            <Header />\n            <ul className=\"documentList\">\n                {docForms}\n            </ul>\n            <MainButtonRange />\n            <Footer />\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(WatchForm);","import * as React from \"react\";\nimport {SelectBox} from \"./type\";\n\nexport const StdSelectBox = ({value,options,func,arg}:SelectBox<string,object>) =>{\n    const selectList = options.map(op=><option className=\"selectBox-std__option\" key={op}>{op}</option>);\n    return(\n        <div className=\"selectBox-std\">\n            <select className=\"selectBox-std__input\" value={value} onChange={(e)=>func(e,arg)}>\n                {selectList}\n            </select>\n            <div className=\"selectBox-std__plate\">\n                <div className=\"selectBox-std__arrow\"></div>\n            </div>\n        </div>\n    )\n}","import * as React from \"react\";\nimport {useCallback,useState,useMemo} from \"react\";\nimport Header from \"../components/header\";\nimport Footer from \"../components/footer\";\nimport {StdSelectBox} from \"../parts/select\";\nimport {StdCheckBox} from \"../parts/checkBox\";\nimport {StdButton} from \"../parts/button\";\nimport {PDFver,OptionType} from \"../redux/reduce/type\";\n\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\n\n\nconst OptionsForm = (props) =>{\n    const pdfOptions:PDFver[] = [\"ACROBAT4\",\"ACROBAT5\",\"ACROBAT6\",\"ACROBAT7\",\"ACROBAT8\"];\n    const [options,setOptions]:[OptionType,(v:OptionType)=>void] = useState(props.state.Options);\n    useMemo(()=>setOptions(props.state.Options),[props]);\n    const handleCheckBox = useCallback((e)=>props.set_Value(\"close\",e.target.checked),[options]);\n    const handleSelctBox = useCallback((e)=>props.set_Value(\"PDFver\",e.target.value),[options]);\n    const shiftMode = useCallback(()=>props.switch_Mode(\"watch\"),[options]);\n    return(\n        <div className=\"optionsForm\">\n            <Header/>\n            <main className=\"optionsMain\">\n                <ul>\n                    <li>\n                        <StdSelectBox value={options.PDFver} options={pdfOptions} func={handleSelctBox}/>\n                    </li>\n                    <li>\n                        <StdCheckBox name=\"close document\" checked={options.close} func={handleCheckBox}/>\n                    </li>\n                    <li>\n                        <StdButton name=\"watch mode\" func={shiftMode} />\n                    </li>\n                </ul>\n            </main>\n            <Footer/>\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(OptionsForm);","import * as React from \"react\";\nimport {useMemo} from \"react\";\nimport WatchForm from \"./watchForm\";\nimport OptionsForm from \"./options\";\nimport {reload,init} from \"../fileSystem/init\";\n\nimport {mapStateToProps} from \"../redux/actions/mapStateProps\";\nimport {mapDispatchProps} from \"../redux/actions/mapDispatchProps\";\nimport {connect} from \"react-redux\";\n\nconst MainForm = (props) =>{\n    useMemo(()=>{\n        //reload();//デバッグ用イベント \n        init();\n    },[]);\n    const getMode = () =>{\n        switch(props.state.ModeSwitch){\n            case\"watch\":\n                return <WatchForm />;\n\n            case\"options\":\n                return <OptionsForm />;\n\n            default:\n                return <WatchForm />;\n        }\n    }\n    return(\n        <>\n            {getMode()}\n        </>\n    )\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(MainForm);","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {Provider} from \"react-redux\";\nimport configStore from \"./redux/store/store\";\nimport MainForm from \"./pages/mainForm\";\n\nimport \"../styles/global.scss\";\n\nconst store = configStore();\n\nReactDOM.render(\n    <Provider store={store}>\n        <MainForm />\n    </Provider>,\n    document.getElementById(\"root\")\n);"],"sourceRoot":""}